from flask_sqlalchemy import SQLAlchemy
from sqlalchemy_serializer import SerializerMixin

db=SQLAlchemy()


class Pet(db.Model, SerializerMixin):
    __tablename__="pets"
    id = db.Column(db.Integer,primary_key=True)
    name = db.Column(db.String(64),nullable=False,unique=True)
    image=db.Column(db.String(500), default="data:image/png;base64,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")
    type = db.Column(db.Enum("Dog","Cat"),default="Dog")
    breed=db.Column(db.String(20),nullable=False)
    age = db.Column(db.Float,nullable=False)
    price=db.Column(db.Float, nullable=False)
    owner_id=db.Column(db.Integer, db.ForeignKey("owners.id"))

class Owner(db.Model,SerializerMixin):
    __tablename__='owners'
    id=db.Column(db.Integer, primary_key=True)
    name=db.Column(db.String(128))

    serialize_rules=('-pets')
    